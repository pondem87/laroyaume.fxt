$(document).ready(function() {

  ////FORM VALIDATION
  //validate registration form
  $('#registration-form').validate({
      rules: {
          fullname: {
              required: true,
              minlength: 3
          },
          phone: {
              required: true,
              minlength: 5
          },
          email: {
              required: true,
              email: true
          },
          password: {
              required: true,
              minlength: 8
          },
          password2: {
            required: true,
            equalTo: "#password"
          }
      },
      messages: {
          fullname: {
              required: "Please provide a name.",
              minlength: "Name should be at least 3 characters."
          },
          phone: {
              required: "Please Provide a number.",
              minlength: "Number must be at least 5 characters"
          },
          email: {
              required: "Email required for login and password recovery"
          },
          password: {
              required: "password required",
              minlength: "Must be more than 8 characters"
          },
          password2: {
              required: "Confirmation of password required",
              minlength: "Must be more than 8 characters",
              equalTo: "Must match first password"
          }
      }
  })

  ////AJAX
  //register
  $('#registration-form').on('submit', function (event) {
    event.preventDefault();

    var form_data = $('#registration-form').serialize();

    $.ajax({
      type: 'POST',
      url: '/register',
      data: form_data,
      processData: false,
      success: function(data) {
        alert(data);
        $('#registration-form')[0].reset();
      }
    });
  });
});
